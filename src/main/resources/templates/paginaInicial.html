<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agendamento Faísca</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body class="bg-gray-100 no-select">

<div id="error-toast" th:if="${error}" class="hidden fixed top-5 right-5 z-50 max-w-sm p-4 bg-red-600 text-white rounded-lg shadow-lg flex items-center">
    <span th:text="${error}" class="flex-grow"></span>
    <button data-dismiss="toast" class="ml-4 text-red-100 hover:text-white">&times;</button>
</div>

<div id="success-toast" th:if="${success}" class="hidden fixed top-5 right-5 z-50 max-w-sm p-4 bg-green-600 text-white rounded-lg shadow-lg flex items-center">
    <span th:text="${success}" class="flex-grow"></span>
    <button data-dismiss="toast" class="ml-4 text-green-100 hover:text-white">&times;</button>
</div>

<div id="home-view" class="min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white p-8 text-center">
    <h1 class="text-5xl md:text-7xl font-bold mb-4 animate-fade-in-down bg-gradient-to-r from-yellow-400 via-orange-500 to-red-600 bg-clip-text text-transparent">
        Momento Faísca
    </h1>
    <p class="text-xl md:text-2xl opacity-90 mb-12 animate-fade-in-up" style="animation: fade-in-up 1s ease-out 0.3s forwards; opacity: 0;">
        Compartilhe seu conhecimento e inspire a equipe.
    </p>
    <div class="flex flex-col md:flex-row gap-4">
        <button id="btn-goto-agendar" class="bg-orange-600 text-white font-bold py-4 px-10 rounded-full shadow-2xl text-lg transform hover:scale-105 hover:bg-orange-700 transition-transform duration-300 ease-in-out focus:outline-none focus:ring-4 focus:ring-orange-500 focus:ring-opacity-50">
            Agendar Faísca
        </button>
        <a th:href="@{/lista}" class="bg-transparent border-2 border-orange-500 text-orange-500 font-bold py-4 px-10 rounded-full shadow-2xl text-lg transform hover:scale-105 hover:bg-orange-500 hover:text-white transition-all duration-300 ease-in-out focus:outline-none focus:ring-4 focus:ring-orange-500 focus:ring-opacity-50">
            Ver Faíscas Marcadas
        </a>
    </div>
</div>

<div id="agendar-view" class="hidden min-h-screen p-4 md:p-10 bg-gray-900"> <div class="max-w-4xl mx-auto bg-gray-800 shadow-2xl rounded-2xl overflow-hidden"> <div class="p-6 md:p-10">
    <button id="btn-back-home" class="mb-6 text-sm text-gray-400 hover:text-orange-500 transition-colors duration-200"> &larr; Voltar para a página inicial
    </button>

    <h2 class="text-3xl font-bold text-gray-800 mb-6 bg-gradient-to-r from-yellow-400 via-orange-500 to-red-600 bg-clip-text text-transparent">
        Agende sua Faísca
    </h2>
    <p class="text-gray-300 mb-8">Selecione uma terça ou quinta-feira disponível no calendário para compartilhar seu conhecimento.</p> <div id="calendar-container" class="bg-gray-900 border border-gray-700 rounded-lg p-4">
    <div class="flex justify-between items-center mb-6">
        <button id="prev-month" class="p-3 rounded-full text-gray-400 hover:bg-gray-700 hover:text-orange-500 transition-colors">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
        </button>
        <h3 id="current-month-year" class="text-xl font-bold text-orange-500"></h3>
        <button id="next-month" class="p-3 rounded-full text-gray-400 hover:bg-gray-700 hover:text-orange-500 transition-colors">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
        </button>
    </div>
    <div id="calendar-grid" class="grid grid-cols-7 gap-2 text-center">
    </div>
</div>

    <form id="schedule-form" th:action="@{/agendar/faisca}" method="POST" class="mt-8 border-t border-gray-700 pt-8 hidden">
        <h3 class="text-2xl font-semibold mb-6 text-orange-500">Detalhes do Agendamento</h3> <input type="hidden" id="selected-date-input" name="data">
        <div class="mb-6">
            <span class="block text-sm font-medium text-gray-400">Data Selecionada</span> <span id="form-date-display" class="text-lg font-semibold text-orange-500"></span> </div>

        <div class="mb-4">
            <label for="nome" class="block text-sm font-medium text-gray-200 mb-2">Seu Nome</label> <input type="text" id="nome" name="nome" class="w-full p-3 bg-gray-700 border border-gray-600 text-white rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition" required>
        </div>

        <div class="mb-6">
            <label for="descricao" class="block text-sm font-medium text-gray-200 mb-2">
                Descrição (o que você irá falar?)
            </label>
            <textarea id="descricao" name="descricao" rows="3" class="w-full p-3 bg-gray-700 border border-gray-600 text-white rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition" required></textarea>
        </div>

        <button type="submit" class="w-full bg-orange-600 text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-orange-700 transition-colors duration-300 focus:outline-none focus:ring-4 focus:ring-orange-300">
            Confirmar Agendamento
        </button>
    </form>
</div>
</div>
</div>

<script th:src="@{/js/script.js}"></script>

</body>
</html>